{"version":3,"sources":["components/NavBar.module.scss","components/VideoPlayer.module.scss","components/Repository.module.scss","components/Nav.module.scss","assets/netflix-logo.png","components/Page.module.scss","components/VideoCard.module.scss","components/Subscript.module.scss","components/Duration.module.scss","components/VideoCardGroup.module.scss","components/Pagination.module.scss","assets/NetflixSans_W_Rg.woff2","storages/context.tsx","storages/subscript.tsx","storages/cache.tsx","storages/video.tsx","components/Nav.tsx","components/NavBar.tsx","components/Page.tsx","components/Subscript.tsx","functions/time.ts","components/Duration.tsx","components/VideoPlayer.tsx","pages/VideoPlayer.tsx","components/VideoCard.tsx","components/VideoCardGroup.tsx","components/Pagination.tsx","functions/index.ts","components/Repository.tsx","api/video.ts","pages/Browse.tsx","pages/MyList.tsx","App.tsx","index.tsx"],"names":["module","exports","Context","reducer","StateContext","createContext","undefined","DispatchContext","Provider","children","init","useReducer","state","dispatch","value","useState","context","useContext","Error","useDispatch","key","defaultValue","cache","set","JSON","stringify","get","then","val","isNil","parse","getSubscriptCache","action","type","videoID","filter","id","SubscriptProvider","useSubscriptDispatch","useSubscriptState","indexBy","prop","videos","VideoProvider","useVideoDispatch","useVideoState","Nav","to","active","className","styles","nav","style","fontWeight","Logo","aria-label","icon","href","src","LOGO_IMG","alt","NavBar","header","links","Page","page","Subscript","handle","useCallback","event","stopPropagation","subscript","onClick","durationRegex","Duration","time","display","getHours","getMinutes","getSeconds","Boolean","join","duration","Close","close","VideoPlayer","play","open","useVideoPlayerDispatch","videoPlayer","playing","controls","url","View","VideoPlayerProvider","VideoCard","data","img","snippet","thumbnails","medium","title","description","res","exec","slice","map","token","Number","year","month","day","hour","minute","second","Date","setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds","parseDuration","contentDetails","card","position","includes","bottom","right","VideoCardGroup","clsx","group","Tab","text","visibility","clickable","pointerEvents","background","Pagination","count","rowsPerPage","max","Math","ceil","min","inRange","pagination","String","Display","memo","times","when","prev","next","length","differenceWith","x","y","Repository","setPage","idx","repository","getHost","Functor","mapping","URL","append","curry","searchParams","getVideo","part","chart","maxResults","pageToken","target","process","fetch","resp","json","Browse","useEffect","a","items","nextPageToken","Object","values","MyList","forEach","video","Routes","pathname","useLocation","routes","path","App","ReactDOM","render","document","getElementById","main"],"mappings":"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","file":"static/js/main.5899ed12.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"NavBar_primary__Y09MC\",\"default\":\"NavBar_default__j1puU\",\"header\":\"NavBar_header__SFw_X\",\"icon\":\"NavBar_icon__TeUM8\",\"links\":\"NavBar_links__2iA29\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hover\":\"VideoPlayer_hover__1pGZK\",\"videoPlayer\":\"VideoPlayer_videoPlayer__2Ha5k\",\"close\":\"VideoPlayer_close__HHY9_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"repository\":\"Repository_repository__21rIC\",\"pagination\":\"Repository_pagination__sG_OL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1lvJL\"};","module.exports = __webpack_public_path__ + \"static/media/netflix-logo.8f1c7fff.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"Page_primary__1e1bq\",\"default\":\"Page_default__2CAB0\",\"page\":\"Page_page__iXzE6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line-clamp\":\"VideoCard_line-clamp__3m9uq\",\"card\":\"VideoCard_card__1Aq5R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hover\":\"Subscript_hover__BgSq7\",\"subscript\":\"Subscript_subscript__TV1kM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"duration\":\"Duration_duration__3Roji\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"group\":\"VideoCardGroup_group__1Burk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hover\":\"Pagination_hover__2g9oE\",\"pagination\":\"Pagination_pagination__NJj9X\"};","module.exports = __webpack_public_path__ + \"static/media/NetflixSans_W_Rg.0bf3177f.woff2\";","import React, { createContext, useReducer, useContext } from \"react\";\n\ntype Dispatch<A> = (action: A) => void;\ntype Reducer<S, A> = (state: S, action: A) => S;\ntype Props<S> = {\n  children: React.ReactNode;\n  init: S;\n};\n\nexport default function Context<S, A>(reducer: Reducer<S, A>) {\n  const StateContext = createContext<S | undefined>(undefined);\n  const DispatchContext = createContext<Dispatch<A> | undefined>(undefined);\n\n  function Provider({ children, init }: Props<S>) {\n    const [state, dispatch] = useReducer(reducer, init);\n    return (\n      <StateContext.Provider value={state}>\n        <DispatchContext.Provider value={dispatch}>\n          {children}\n        </DispatchContext.Provider>\n      </StateContext.Provider>\n    );\n  }\n\n  function useState() {\n    const context = useContext(StateContext);\n    if (context === undefined) {\n      throw new Error(`must be used within a ContextProvider`);\n    }\n    return context;\n  }\n\n  function useDispatch() {\n    const context = useContext(DispatchContext);\n    if (context === undefined) {\n      throw new Error(`must be used within a ContextProvider`);\n    }\n    return context;\n  }\n\n  return { Provider, useState, useDispatch };\n}\n","import Context from \"./context\";\nimport Cache from \"./cache\";\n\ntype State = string[];\n\ntype Action =\n  | { type: \"add\"; videoID: string }\n  | { type: \"remove\"; videoID: string };\n\nconst cache = Cache<State>(\"Subscript\", []);\n\nfunction SubscriptReducer(state: State, action: Action) {\n  if (action.type === \"add\") {\n    state = [...state, action.videoID];\n\n    cache.set(state);\n\n    return state;\n  }\n\n  if (action.type === \"remove\") {\n    state = state.filter((id) => id !== action.videoID);\n\n    cache.set(state);\n\n    return state;\n  }\n\n  return state;\n}\n\nexport function getSubscriptCache() {\n  return cache.get();\n}\n\nexport const {\n  Provider: SubscriptProvider,\n  useDispatch: useSubscriptDispatch,\n  useState: useSubscriptState,\n} = Context(SubscriptReducer);\n","import { set, get } from \"idb-keyval\";\nimport { isNil } from \"ramda\";\n\nexport default function Cache<S>(key: string, defaultValue: S) {\n  return {\n    set(value: S) {\n      return set(key, JSON.stringify(value));\n    },\n    get(): Promise<S> {\n      return get(key).then((val) => {\n        return !isNil(val) ? JSON.parse(val as string) : defaultValue;\n      });\n    },\n  };\n}\n","import Context from \"./context\";\nimport { Item } from \"../models/video\";\nimport { indexBy, prop } from \"ramda\";\n\ntype State = Record<string, Item>;\ntype Action = { type: \"add\"; videos: Item[] };\n\nfunction VideoReducer(state: State, action: Action) {\n  if (action.type === \"add\") {\n    return { ...state, ...indexBy(prop(\"id\"), action.videos) };\n  }\n\n  return state;\n}\n\nexport const {\n  Provider: VideoProvider,\n  useDispatch: useVideoDispatch,\n  useState: useVideoState,\n} = Context(VideoReducer);\n","import React, { ReactNode } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./Nav.module.scss\";\n\ntype Props = {\n  to: string;\n  children?: ReactNode;\n  active?: boolean;\n};\nexport default function Nav({ children, to, active = false }: Props) {\n  return (\n    <Link\n      to={to}\n      className={styles.nav}\n      style={{ fontWeight: active ? 700 : \"normal\" }}\n    >\n      {children}\n    </Link>\n  );\n}\n","import React, { ReactNode } from \"react\";\nimport styles from \"./NavBar.module.scss\";\nimport LOGO_IMG from \"assets/netflix-logo.png\";\n\nfunction Logo() {\n  return (\n    <a aria-label=\"netflix\" className={styles.icon} href=\"/\">\n      <img src={LOGO_IMG} alt=\"netflix\" />\n    </a>\n  );\n}\n\ntype Props = {\n  children: ReactNode;\n};\nexport default function NavBar({ children }: Props) {\n  return (\n    <header className={styles.header}>\n      <Logo />\n\n      <div className={styles.links}>{children}</div>\n    </header>\n  );\n}\n","import React, { PropsWithChildren } from \"react\";\nimport styles from \"./Page.module.scss\";\n\nexport default function Page({ children }: PropsWithChildren<{}>) {\n  return (\n    <main className={styles.page}>\n      <div>{children}</div>\n    </main>\n  );\n}\n","import React, { CSSProperties, MouseEvent, useCallback } from \"react\";\nimport styles from \"./Subscript.module.scss\";\nimport { useSubscriptDispatch } from \"../storages/subscript\";\n\ntype Props = {\n  active?: boolean;\n  style?: CSSProperties;\n  videoID: string;\n};\nexport default function Subscript({ active = false, style, videoID }: Props) {\n  const dispatch = useSubscriptDispatch();\n\n  const handle = useCallback(\n    (event: MouseEvent) => {\n      event.stopPropagation();\n\n      dispatch(active ? { type: \"remove\", videoID } : { type: \"add\", videoID });\n    },\n    [active, videoID, dispatch]\n  );\n\n  return (\n    <button className={styles.subscript} style={style} onClick={handle}>\n      {active ? \"★\" : \"☆\"}\n    </button>\n  );\n}\n","/**\n * Parse ISO 8601 duration (with a few limitations)\n */\nconst durationRegex = /^(-)?P(?:(?:(\\d+)Y)?(?:(\\d+)M)?(?:(\\d+)D)?(?:T(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+)S)?)?|(\\d+)W)$/;\n\nexport default function parseDuration(duration: string) {\n  const res = durationRegex.exec(duration);\n\n  if (!res) {\n    throw new Error(`Invalid duration ${duration}`);\n  }\n\n  const [year, month, day, hour, minute, second] = res\n    .slice(2, 8)\n    .map((token) => (token ? Number(token) : 0));\n\n  const time = new Date();\n  time.setFullYear(Number(year));\n  time.setMonth(Number(month));\n  time.setDate(Number(day));\n  time.setHours(Number(hour));\n  time.setMinutes(Number(minute));\n  time.setSeconds(Number(second));\n\n  return time;\n}\n","import React, { CSSProperties } from \"react\";\nimport styles from \"./Duration.module.scss\";\n\ntype Props = {\n  time: Date;\n  style: CSSProperties;\n};\nexport default function Duration({ time, style }: Props) {\n  const display = [time.getHours(), time.getMinutes(), time.getSeconds()]\n    .filter(Boolean)\n    .join(\":\");\n\n  return (\n    <span className={styles.duration} style={style}>\n      {display}\n    </span>\n  );\n}\n","import React, { useCallback } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport styles from \"./VideoPlayer.module.scss\";\nimport { useVideoPlayerDispatch } from \"../pages/VideoPlayer\";\n\ntype CloseProps = {\n  onClick: () => void;\n};\nfunction Close({ onClick }: CloseProps) {\n  return (\n    <button className={styles.close} onClick={onClick}>\n      <h2>{\"X\"}</h2>\n    </button>\n  );\n}\n\ntype Props = {\n  play: string;\n  open: boolean;\n};\nexport default function VideoPlayer({ play, open }: Props) {\n  const dispatch = useVideoPlayerDispatch();\n\n  const close = useCallback(() => dispatch({ type: \"close\" }), [dispatch]);\n\n  return (\n    <div\n      className={styles.videoPlayer}\n      style={{ display: open ? \"flex\" : \"none\" }}\n      onClick={close}\n    >\n      <Close onClick={close} />\n      <ReactPlayer playing controls url={play} />\n    </div>\n  );\n}\n","import React, { ReactNode } from \"react\";\nimport Context from \"../storages/context\";\nimport VideoPlayer from \"../components/VideoPlayer\";\n\ntype State = {\n  open: boolean;\n  url: string;\n};\n\ntype Action = { type: \"open\"; url: string } | { type: \"close\" };\n\nfunction VideoPlayerReducer(state: State, action: Action) {\n  if (action.type === \"open\") {\n    return { open: true, url: action.url };\n  }\n\n  if (action.type === \"close\") {\n    return { open: false, url: \"\" };\n  }\n\n  return state;\n}\n\nconst { Provider, useDispatch, useState } = Context(VideoPlayerReducer);\n\nfunction View() {\n  const { open, url } = useState();\n\n  return <VideoPlayer open={open} play={url} />;\n}\n\nexport const useVideoPlayerDispatch = useDispatch;\n\ntype Props = {\n  children: ReactNode;\n};\nexport function VideoPlayerProvider({ children }: Props) {\n  return (\n    <Provider init={{ open: false, url: \"\" }}>\n      {children}\n      <View />\n    </Provider>\n  );\n}\n","import React from \"react\";\nimport styles from \"./VideoCard.module.scss\";\nimport { Item } from \"../models/video\";\nimport Subscript from \"./Subscript\";\nimport { useSubscriptState } from \"../storages/subscript\";\nimport { parseDuration } from \"../functions\";\nimport Duration from \"./Duration\";\nimport { useVideoPlayerDispatch } from \"../pages/VideoPlayer\";\n\ntype Props = {\n  data: Item;\n};\nexport default function VideoCard({ data }: Props) {\n  const img = data.snippet.thumbnails.medium.url;\n  const title = data.snippet.title;\n  const description = data.snippet.description;\n  const time = parseDuration(data.contentDetails.duration);\n\n  const subscript = useSubscriptState();\n  const dispatch = useVideoPlayerDispatch();\n\n  return (\n    <div\n      className={styles.card}\n      onClick={() =>\n        dispatch({\n          type: \"open\",\n          url: `https://www.youtube.com/watch?v=${data.id}`,\n        })\n      }\n    >\n      <div style={{ position: \"relative\" }}>\n        <Subscript\n          videoID={data.id}\n          active={subscript.includes(data.id)}\n          style={{\n            position: \"absolute\",\n          }}\n        />\n        <Duration\n          style={{\n            position: \"absolute\",\n            bottom: 0,\n            right: 0,\n          }}\n          time={time}\n        />\n        <img src={img} alt={img} />\n      </div>\n      <h5>{title}</h5>\n      <p>{description}</p>\n    </div>\n  );\n}\n","import React, { ReactNode } from \"react\";\nimport styles from \"./VideoCardGroup.module.scss\";\nimport clsx from \"clsx\";\n\ntype Props = {\n  children: ReactNode;\n  className?: string;\n};\nexport default function VideoCardGroup({ children, className }: Props) {\n  return <div className={clsx(styles.group, className)}>{children}</div>;\n}\n","import React from \"react\";\nimport styles from \"./Pagination.module.scss\";\nimport { inRange } from \"../functions\";\nimport clsx from \"clsx\";\n\ntype TabProps = {\n  text: string;\n  visibility?: boolean;\n  clickable?: boolean;\n  active?: boolean;\n  onClick?: () => void;\n};\n\nfunction Tab({\n  text,\n  visibility = true,\n  clickable = true,\n  active = false,\n  onClick = () => {},\n}: TabProps) {\n  return (\n    <button\n      style={{\n        visibility: visibility ? \"visible\" : \"hidden\",\n        pointerEvents: clickable ? \"auto\" : \"none\",\n        background: active ? \"#d91921\" : \"\",\n      }}\n      onClick={onClick}\n    >\n      {text}\n    </button>\n  );\n}\n\ntype Props = {\n  page?: number;\n  count?: number;\n  rowsPerPage?: number;\n  onClick?: (page: number) => void;\n  className?: string;\n};\nexport default function Pagination({\n  page = 1,\n  count = 1,\n  rowsPerPage = 1,\n  onClick = () => {},\n  className,\n}: Props) {\n  const min = 1;\n  const max = Math.ceil(count / rowsPerPage);\n\n  if (!inRange(min, max, page)) {\n    return <></>;\n  }\n\n  return (\n    <div className={clsx(styles.pagination, className)}>\n      <Tab\n        text={String(\"<<\")}\n        visibility={page > min}\n        onClick={() => onClick(1)}\n      />\n      <Tab\n        text={\"<\"}\n        visibility={page > min}\n        onClick={() => onClick(page - 1)}\n      />\n\n      <Tab\n        text={String(page - 1)}\n        visibility={page > min}\n        onClick={() => onClick(page - 1)}\n      />\n      <Tab text={String(page)} clickable={false} active={true} />\n      <Tab\n        text={String(page + 1)}\n        visibility={page < max}\n        onClick={() => onClick(page + 1)}\n      />\n\n      <Tab\n        text={\">\"}\n        visibility={page < max}\n        onClick={() => onClick(page + 1)}\n      />\n      <Tab\n        text={String(\">>\")}\n        visibility={page < max}\n        onClick={() => onClick(max)}\n      />\n    </div>\n  );\n}\n","import { times, identity, pipe } from \"ramda\";\nimport parseDuration from \"./time\";\n\nexport { parseDuration };\n\nexport const range = (func: (idx: number) => any, count: number) =>\n  times(pipe(identity, func), count);\n\nexport function inRange(min: number, max: number, value: number) {\n  return min <= value && value <= max;\n}\n\ntype MappingFunc = (x: any) => any;\nexport function Functor(value: any) {\n  return {\n    value,\n    map: (mapping: MappingFunc) => Functor(mapping(value)),\n  };\n}\n","import React, { useState, memo } from \"react\";\nimport VideoCard from \"./VideoCard\";\nimport { Item } from \"../models/video\";\nimport VideoCardGroup from \"./VideoCardGroup\";\nimport Pagination from \"./Pagination\";\nimport { times, when, differenceWith } from \"ramda\";\nimport styles from \"./Repository.module.scss\";\n\nconst rowsPerPage = 12;\n\ntype Props = {\n  videos: Item[];\n};\n\nfunction areEqual({ videos: prev }: Props, { videos: next }: Props) {\n  if (prev.length !== next.length) {\n    return false;\n  }\n\n  return differenceWith((x, y) => x.id === y.id, prev, next).length === 0;\n}\n\nconst Display = memo(({ videos }: Props) => {\n  return (\n    <VideoCardGroup>\n      {times(\n        (id: number) =>\n          when(Boolean, (data: Item) => (\n            <VideoCard key={String(id)} data={data} />\n          ))(videos[id]),\n        rowsPerPage\n      )}\n    </VideoCardGroup>\n  );\n}, areEqual);\n\nexport default function Repository({ videos }: Props) {\n  const [page, setPage] = useState(1);\n  const idx = page - 1;\n\n  return (\n    <section className={styles.repository}>\n      <Display\n        videos={videos.slice(idx * rowsPerPage, (idx + 1) * rowsPerPage)}\n      />\n      <Pagination\n        className={styles.pagination}\n        count={videos.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onClick={(page) => setPage(page)}\n      />\n    </section>\n  );\n}\n","import { curry } from \"ramda\";\nimport { Functor } from \"../functions\";\nimport { Video } from \"../models/video\";\n\nfunction getHost() {\n  return Functor(new URL(\"https://www.googleapis.com/youtube/v3/videos\"));\n}\n\nfunction appendSearchParam(key: string, value: string, url: URL) {\n  url.searchParams.append(key, value);\n\n  return url;\n}\nconst append = curry(appendSearchParam);\n\ntype Props = {\n  part: string[];\n  chart?: \"mostPopular\";\n  maxResults?: number;\n  pageToken?: string;\n  id?: string;\n};\n\nexport function getVideo({\n  part,\n  chart,\n  maxResults,\n  pageToken,\n  id,\n}: Props): Promise<Video> {\n  const target = getHost()\n    .map(append(\"part\", part.join(\",\")))\n    .map(append(\"key\", process.env.REACT_APP_API_KEY || \"\"));\n\n  if (chart) {\n    target.map(append(\"chart\", chart));\n  }\n  if (maxResults) {\n    target.map(append(\"maxResults\", String(maxResults)));\n  }\n  if (pageToken) {\n    target.map(append(\"pageToken\", pageToken));\n  }\n  if (id) {\n    target.map(append(\"id\", id));\n  }\n\n  return fetch(target.value.href).then((resp) => resp.json());\n}\n","import React, { useEffect } from \"react\";\nimport Page from \"../components/Page\";\nimport Repository from \"../components/Repository\";\nimport { getVideo } from \"../api/video\";\nimport { useVideoDispatch, useVideoState } from \"../storages/video\";\n\nexport default function Browse() {\n  const dispatch = useVideoDispatch();\n  const videos = useVideoState();\n\n  useEffect(() => {\n    async function init(pageToken?: string) {\n      const data = await getVideo({\n        part: [\"snippet\", \"contentDetails\"],\n        chart: \"mostPopular\",\n        maxResults: 12,\n        pageToken,\n      });\n\n      dispatch({ type: \"add\", videos: data.items });\n\n      data.nextPageToken && init(data.nextPageToken);\n    }\n\n    init();\n  }, [dispatch]);\n\n  return (\n    <Page>\n      <Repository videos={Object.values(videos)} />\n    </Page>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Page from \"../components/Page\";\nimport Repository from \"../components/Repository\";\nimport { useVideoState, useVideoDispatch } from \"../storages/video\";\nimport { useSubscriptState } from \"../storages/subscript\";\nimport { getVideo } from \"../api/video\";\n\nexport default function MyList() {\n  const dispatch = useVideoDispatch();\n  const videos = useVideoState();\n  const subscript = useSubscriptState();\n\n  useEffect(() => {\n    subscript.forEach(async (id) => {\n      if (videos[id]) {\n        return;\n      }\n\n      const video = await getVideo({\n        part: [\"snippet\", \"contentDetails\"],\n        id,\n      });\n\n      dispatch({ type: \"add\", videos: video.items });\n    });\n  }, [videos, subscript, dispatch]);\n\n  return (\n    <Page>\n      <Repository videos={subscript.map((id) => videos[id]).filter(Boolean)} />\n    </Page>\n  );\n}\n","import React from \"react\";\nimport { SubscriptProvider } from \"./storages/subscript\";\nimport { VideoProvider } from \"./storages/video\";\nimport {\n  BrowserRouter as Router,\n  useLocation,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport Nav from \"./components/Nav\";\nimport NavBar from \"./components/NavBar\";\nimport Browse from \"./pages/Browse\";\nimport MyList from \"./pages/MyList\";\nimport { VideoPlayerProvider } from \"./pages/VideoPlayer\";\n\nfunction Routes() {\n  const { pathname } = useLocation();\n\n  const routes = [\n    //\n    { key: \"My List\", path: \"/my-list\", page: <MyList /> },\n    { key: \"Home\", path: \"/\", page: <Browse /> },\n  ];\n\n  return (\n    <>\n      <NavBar>\n        {routes.map(({ key, path }) => (\n          <Nav to={path} active={pathname === path} key={key}>\n            {key}\n          </Nav>\n        ))}\n      </NavBar>\n\n      <Switch>\n        {routes.map(({ key, path, page }) => (\n          <Route key={key} path={path}>\n            {page}\n          </Route>\n        ))}\n      </Switch>\n    </>\n  );\n}\n\ntype Props = {\n  subscript: string[];\n};\nfunction App({ subscript }: Props) {\n  return (\n    <VideoPlayerProvider>\n      <VideoProvider init={{}}>\n        <SubscriptProvider init={subscript}>\n          <Router>\n            <Routes />\n          </Router>\n        </SubscriptProvider>\n      </VideoProvider>\n    </VideoPlayerProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport \"./index.css\";\nimport \"./styles/common.scss\";\nimport \"./assets/NetflixSans_W_Rg.woff2\";\nimport { getSubscriptCache } from \"./storages/subscript\";\n\nasync function main() {\n  const subscript = await getSubscriptCache();\n\n  ReactDOM.render(\n    <App subscript={subscript} />,\n    document.getElementById(\"root\")\n  );\n}\n\nmain();\n"],"sourceRoot":""}